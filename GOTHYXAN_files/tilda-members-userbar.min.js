window.tmst_rootzone=tmst__getRootZone(),window.userbar_scroll_handler=null,window.userbar_anchor_el=null,window.userbar_outside_click=null;var IsIframeDataReady={script:!1,dict:!1};function tma__userbar__init(){(tma__getProfileObjFromLS()?(tma__userbar__drawWidget(),tma__userbar__useUserbarHandlers):(tma__handleOpenMembersBarLinks(),tma__userbar__drawAuthModal))()}function tma__userbar__drawWidget(){var e=document.querySelector(".tlk-userbar");if(!e){var t=document.getElementById("allrecords"),r=document.getElementById("app"),a=tma__getProfileObjFromLS(),a=("function"==typeof tma__addFontStyle&&window.tildaMembers.settingStyles&&tma__addFontStyle(),tma__userbar__getWidgetUserHtml(a)),o=(!r||window.tildaMembers.objLecture&&"page"===window.tildaMembers.objLecture.type?t.insertAdjacentHTML("afterend",tma__translate(a,"userbar_dict")):r.insertAdjacentHTML("beforeend",tma__translate(a,"userbar_dict")),(e=document.querySelector(".tlk-userbar")).querySelector(".tlk-userbar__user")),t=document.getElementById("tlk-userbar-style"),r=e.querySelector(".tlk-userbar__user-image"),s=(t||tma__userbar__createUserbarStyles(),setInterval(function(){document.getElementById("tlk-loader")||(clearInterval(s),setTimeout(function(){o.classList.add("tlk-userbar__user_scale")},300))},300));if(window.tildaMembers.is_get_profile?tma__userbar__addWidgetEvents():r.addEventListener("click",tma__userbar__addLoadingWidgetPanel),tma__userbar__hideWidgetButton(e),tma__userbar__handleWidgetsUserbar(),tma__userbar__addInputWithUserData(),window.tildaMembers.is_init_userbar=!0,tma__userbar__handleWindowResize(),"function"==typeof window.t_triggerEvent&&t_triggerEvent(document,"membersUserbarInited"),window.tildaMembers.is_init_store&&(window.tuserbar_initted="yes",window.scrollBarWidthCompensator)&&window.scrollBarWidthCompensator.isInited){for(var _=!1,i=0;i<window.scrollBarWidthCompensator.fixedElements.length;i++)if(window.scrollBarWidthCompensator.fixedElements[i].el.classList.contains("tlk-userbar")){_=!0;break}_||(window.scrollBarWidthCompensator.fixedElements.push({el:e,computedStyle:window.getComputedStyle(e)}),a=window.getComputedStyle(e),t=parseInt(a.right),r=window.scrollBarWidthCompensator.scrollBarWidth,0===window.scrollBarWidthCompensator.scrollBarWidth&&document.body.style.paddingRight&&(r=parseInt(document.body.style.paddingRight)),e.style.right=t+r+"px")}tma__userbar__addWidgetsPositions()}}function tma__userbar__drawAuthModal(){var e=document.getElementById("authModal"),e=(e&&e.remove(),document.querySelector("body"));window.addEventListener("message",function(e){e.origin===document.location.origin&&("closeModal"===e.data.action&&(tma__userbar__closeAuthModal(),e.data.withReload)&&(document.querySelector(".t706 .t706__cartwin_showed, .t706 .t706__cartpage_showed")&&(window.location.hash="#opencart"),window.location.reload()),"signSuccessLoaded"===e.data.action&&(IsIframeDataReady.script=!0,tma__userbar__useAuthModalHandlers()),"signDictSuccessLoaded"===e.data.action)&&(IsIframeDataReady.dict=!0,tma__userbar__useAuthModalHandlers())}),document.addEventListener("keydown",function(e){"Escape"===e.key&&tma__userbar__closeAuthModal()}),e.insertAdjacentHTML("afterbegin",'<div class="tlk-authModal" id="authModal"><iframe class="tlk-authModal-content" src="/members/login?simplified=y"></iframe></div>')}function tma__userbar__openAuthModal(){var e=document.getElementById("authModal");e&&(tma__userbar__blockBodyScroll(),e.classList.add("show"))}function tma__userbar__blockBodyScroll(){document.querySelector("body").style.overflow="hidden"}function tma__userbar__closeAuthModal(){var e=document.getElementById("authModal");e&&(tma__userbar__unblockBodyScroll(),e.classList.remove("show"))}function tma__userbar__unblockBodyScroll(){document.querySelector("body").style.overflow="auto"}function tma__userbar__hasTriggersToOpenUserbarOnPage(){return 0<document.querySelectorAll('a[href*="#openmembersbar"]:not(.t-menuwidgeticons__link), a[href$="/members/login"],  a[href$="/members/signup"]').length}function tma__userbar__addWidgetEvents(){window.tildaMembers.is_init_userbar_events||(tma__onFuncLoad("tmst_profile__redirectToProfilePage",function(){tmst_profile__redirectToProfilePage()}),document.querySelector(".tlk-userbar__user-image").addEventListener("click",function(){var e=window.tildaMembers.target_widget||document.querySelector(".tlk-userbar"),t=e.querySelector(".tlk-userbar__popup");window.tildaMembers.target_widget&&t&&(tma__userbar__closeWidgetPanel(),t=(e=document.querySelector(".tlk-userbar")).querySelector(".tlk-userbar__popup")),(t?tma__userbar__closeWidgetPanel:(tma__userbar__showWidgetPanel(e),tma__userbar__addButtonEvents(),tma__userbar__addAccordionEvents(),tma__userbar__addTooltipEvent))()}),window.tildaMembers.is_init_userbar_events=!0)}function tma__userbar__addButtonEvents(){var e,t=document.querySelector(".tlk-userbar__popup");t&&(e=t.querySelector(".tlk-userbar__popup-edit-profile"),t=t.querySelector(".tlk-userbar__popup-logout"),e&&e.addEventListener("click",function(){tma__userbar__closeWidgetPanel()}),t)&&t.addEventListener("click",function(e){e.preventDefault(),tma__userbar__sendLogout()})}function tma__userbar__sendLogout(){var t=tma__getProfileObjFromLS(),e=JSON.stringify({projectid:t.projectid,token:t.token,tzoffset:(new Date).getTimezoneOffset()});tma__request("/api/logout/",e,"",function(){var e="tilda_members_profile"+t.projectid;try{window.mauser={},localStorage.removeItem(e),localStorage.removeItem(e+"_timestamp")}catch(e){console.info(e)}window.tildaMembers.is_init_members?document.location.replace("/members/login"):(e=document.querySelector(".tlk-userbar"),window.tildaMembers.is_get_profile=!1,tma__userbar__closeWidgetPanel(),e.remove(),t_onFuncLoad("t_posWidget__updateStyleWidget",function(){t_posWidget__updateStyleWidget()}),tma__userbar__init()),tma__userbar__removeInputWithUserData(),"function"==typeof window.t_triggerEvent&&t_triggerEvent(document,"membersLogout")})}function tma__userbar__showWidgetPanel(e){var t=tma__userbar__getWidgetPopupHtml(),r=document.querySelector(".tlk-userbar__popup"),t=(r||(document.body.insertAdjacentHTML("beforeend",tma__translate(t,"userbar_dict")),r=document.querySelector(".tlk-userbar__popup")),r.querySelector(".tlk-userbar__popup-wrap"));t&&(r.classList.add("tlk-userbar__popup-show"),tma__loadDeliverieslist(),tma__userbar__calcCoordinatsWidgetPanel(e,r,t),window.userbar_anchor_el=e,window.userbar_scroll_handler||(window.userbar_scroll_handler=tma__userbar__throttle(function(){var e=document.querySelector(".tlk-userbar__popup"),t=window.userbar_anchor_el;if(e&&t){var r=e.querySelector(".tlk-userbar__popup-wrap");if(r)try{e.classList.contains("tlk-userbar__popup-show")&&tma__userbar__calcCoordinatsWidgetPanel(t,e,r)}catch(e){}}},30),window.addEventListener("scroll",window.userbar_scroll_handler,{passive:!0}),window.addEventListener("resize",window.userbar_scroll_handler)),tma__userbar__addOutsideClickHandler())}function tma__userbar__closeWidgetPanel(){var e=document.querySelector(".tlk-userbar__popup");e&&(window.tildaMembers.target_widget&&(window.tildaMembers.target_widget=""),e.remove(),window.userbar_scroll_handler&&(window.removeEventListener("scroll",window.userbar_scroll_handler),window.removeEventListener("resize",window.userbar_scroll_handler),window.userbar_scroll_handler=null,window.userbar_anchor_el=null),tma__userbar__removeOutsideClickHandler())}function tma__userbar__hidePreloader(e){var t,r,a,o,s=tma__getProfileObjFromLS(),_=document.querySelector(".tlk-userbar__popup");_&&(t=_.querySelector(".tlk-userbar__popup-wrap"))&&(r=_.querySelector(".tlk-userbar__popup-content"))&&(a=t.querySelector(".tlk-userbar__preloader"))&&(o=tma__userbar__getWidgetPopupContentHtml(s),a.style.opacity=0,setTimeout(function(){a.remove(),r.insertAdjacentHTML("beforeend",tma__translate(o,"userbar_dict")),tma__userbar__calcCoordinatsWidgetPanel(e,_,t),tma__userbar__addButtonEvents(),tma__userbar__addAccordionEvents(),tma__userbar__addTooltipEvent(),tma__userbar__addWidgetEvents(),tma__userbar__calcCoordinatsWidgetPanel(e,_,t)},300))}function tma__userbar__addLoadingWidgetPanel(){var e=window.tildaMembers.target_widget||document.querySelector(".tlk-userbar"),t=document.querySelector(".tlk-userbar__user-image");window.tildaMembers.is_get_profile?(tma__userbar__showWidgetPanel(e),tma__userbar__addButtonEvents(),tma__userbar__addAccordionEvents(),tma__userbar__addTooltipEvent(),tma__userbar__addWidgetEvents()):(tma__userbar__showWidgetPanel(e),t.disabled=!0,tma__getObjProfile(function(){tma__userbar__hidePreloader(e),t.disabled=!1})),t.removeEventListener("click",tma__userbar__addLoadingWidgetPanel)}function tma__userbar__calcCoordinatsWidgetPanel(e,t,r){var e=e.getBoundingClientRect(),a=window.innerWidth,o=window.innerHeight,s=e.top<o/2,_=e.left<a/2;r.style.maxHeight=null,t.style.position="fixed",t.style.zIndex="100001",s?(t.style.top=e.bottom+10+"px",t.style.bottom="auto"):(t.style.bottom=o-e.top+10+"px",t.style.top="auto",t.classList.add("tlk-userbar__popup_bottom")),_?(t.style.left=e.left+"px",t.style.right="auto",t.classList.add("tlk-userbar__popup_left")):(t.style.right=a-e.right+"px",t.style.left="auto"),setTimeout(function(){var e=t.getBoundingClientRect();s&&o<e.bottom?r.style.maxHeight=e.height-(e.bottom-o+10)+"px":!s&&e.top<0&&(r.style.maxHeight=e.height-Math.abs(e.top)-10+"px"),e.left<0&&(t.style.left="10px")},0)}function tma__userbar__throttle(r,a){var o,s=0;return function(){var e=Date.now(),t=arguments;s&&e-s<a?(clearTimeout(o),o=setTimeout(function(){s=Date.now(),r.apply(null,t)},a-(e-s))):(s=e,r.apply(null,t))}}function tma__userbar__addOutsideClickHandler(){var e;window.userbar_outside_click||(e=function(e){var t,r;e.button&&0!==e.button||(t=document.querySelector(".tlk-userbar__popup"))&&(r=e.target,t.contains(r)||(tma__userbar__closeWidgetPanel(),e.stopPropagation()))},window.userbar_outside_click=e,document.addEventListener("click",e,{capture:!0}))}function tma__userbar__removeOutsideClickHandler(){window.userbar_outside_click&&(document.removeEventListener("click",window.userbar_outside_click,{capture:!0}),window.userbar_outside_click=null)}function tma__userbar__updateDataProfile(){var e=document.querySelector(".tlk-userbar__popup-name"),t=document.querySelector(".tlk-userbar__user-image"),r=tma__getProfileObjFromLS(),a=r.name;!a&&r.login&&"function"==typeof tma__hideText&&(a=tma__hideText(r.login)),e&&(e.innerHTML=tma__escapeHTML(a)),t&&r.memberlogo_uuid!==window.tildaMembers.upload.oldId&&(t.innerHTML=tma__userbar__getLogoHtml(r)),r.memberlogo_uuid&&(window.tildaMembers.upload.id=r.memberlogo_uuid,window.tildaMembers.upload.oldId=r.memberlogo_uuid)}function tma__userbar__addAccordionEvents(){for(var e=document.querySelectorAll(".tlk-accordion"),t=0;t<e.length;t++){var r=e[t].querySelector(".tlk-accordion__link");r.classList.contains("tlk-accordion__link_not")||r.addEventListener("click",function(){var e=this.nextElementSibling;this.classList.contains("tlk-accordion__action")?(this.classList.remove("tlk-accordion__action"),e.style.maxHeight=null):(this.classList.add("tlk-accordion__action"),e.style.maxHeight=e.scrollHeight+40+"px")})}}function tma__userbar__getWidgetUserHtml(e){var t=(t="")+('<div class="tlk-userbar tlk-open-userbar-btn'+(window.tildaMembers.is_init_store?" tlk-userbar_store":"")+'">')+'<div class="tlk-userbar__user">';return window.tildaMembers.settingStyles&&window.tildaMembers.settingStyles.hasnotifications&&(t+='<div class="tlk-userbar__user-notification"></div>'),t=(t=(t+='<button class="tlk-userbar__user-image tlk-userbar__user-image_md tlk-btn_reset" type="button">')+tma__userbar__getLogoHtml(e)+"</button>")+"</div>"+"</div>"}function tma__userbar__getWidgetPopupHtml(){var e="",e=(e+='<div class="tlk-userbar__popup">')+'<div class="tlk-userbar__popup-wrap">'+'<div class="tlk-userbar__popup-content">';return window.tildaMembers.is_get_profile?e+=tma__userbar__getWidgetPopupContentHtml(tma__getProfileObjFromLS()):e+=tma__userbar__getPreloaderHtml(),e=(e+="</div>")+"</div>"+"</div>"}function tma__userbar__getWidgetPopupContentHtml(e){var t="",r=e.name;if(!r&&e.login&&"function"==typeof tma__hideText&&(r=tma__hideText(e.login)),t=(t=(t=(t=(t=(t=t+'<div class="tlk-userbar__popup-login">'+'<div class="tlk-userbar__popup-wrap-name">')+('<div class="tlk-userbar__popup-name">'+tma__escapeHTML(r)+"</div>")+'<a class="tlk-userbar__popup-logout tlk-btn_reset" href="/members/login?exit=y" title="{{widget_userbar_btn_logout}}">')+'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">'+'<path fill-rule="evenodd" clip-rule="evenodd" d="M4.76206 1.66675C3.9731 1.66675 3.3335 2.25585 3.3335 2.98253V17.0176C3.3335 17.7442 3.9731 18.3334 4.76206 18.3334H15.2383C16.0272 18.3334 16.6668 17.7442 16.6668 17.0176V15.2632H15.7144V17.0176C15.7144 17.2599 15.5012 17.4562 15.2383 17.4562H4.76206C4.49908 17.4562 4.28588 17.2599 4.28588 17.0176V2.98253C4.28588 2.74031 4.49908 2.54395 4.76206 2.54395H15.2383C15.5012 2.54395 15.7144 2.74031 15.7144 2.98253V5.00008H16.6668V2.98253C16.6668 2.25585 16.0272 1.66675 15.2383 1.66675H4.76206ZM18.2115 9.68L15.5598 6.79933C15.3971 6.62255 15.1333 6.62255 14.9705 6.79933C14.8078 6.9761 14.8078 7.2627 14.9705 7.43948L16.9108 9.54743H10.0002V10.4527H16.9108L14.9705 12.5607C14.8078 12.7375 14.8078 13.0241 14.9705 13.2008C15.1333 13.3776 15.3971 13.3776 15.5598 13.2008L18.2115 10.3202C18.3742 10.1434 18.3742 9.85678 18.2115 9.68Z" fill="#8F8F8F"/>')+'<path d="M16.6667 15.2632H16.8334V15.0965H16.6667V15.2632ZM15.7144 15.2632V15.0965H15.5477V15.2632H15.7144ZM15.7144 5H15.5477V5.16667H15.7144V5ZM16.6667 5V5.16667H16.8334V5H16.6667ZM16.9107 9.54735V9.71402H17.2907L17.0334 9.43447L16.9107 9.54735ZM10.0001 9.54735V9.38068H9.83341V9.54735H10.0001ZM10.0001 10.4527H9.83341V10.6193H10.0001V10.4527ZM16.9107 10.4527L17.0334 10.5655L17.2907 10.286H16.9107V10.4527ZM3.50008 2.98245C3.50008 2.36045 4.05188 1.83333 4.76198 1.83333V1.5C3.89413 1.5 3.16675 2.15108 3.16675 2.98245H3.50008ZM3.50008 17.0175V2.98245H3.16675V17.0175H3.50008ZM4.76198 18.1667C4.05188 18.1667 3.50008 17.6395 3.50008 17.0175H3.16675C3.16675 17.849 3.89413 18.5 4.76198 18.5V18.1667ZM15.2382 18.1667H4.76198V18.5H15.2382V18.1667ZM16.5001 17.0175C16.5001 17.6395 15.9483 18.1667 15.2382 18.1667V18.5C16.106 18.5 16.8334 17.849 16.8334 17.0175H16.5001ZM16.5001 15.2632V17.0175H16.8334V15.2632H16.5001ZM15.7144 15.4298H16.6667V15.0965H15.7144V15.4298ZM15.881 17.0175V15.2632H15.5477V17.0175H15.881ZM15.2382 17.6228C15.58 17.6228 15.881 17.3645 15.881 17.0175H15.5477C15.5477 17.1552 15.4223 17.2895 15.2382 17.2895V17.6228ZM4.76198 17.6228H15.2382V17.2895H4.76198V17.6228ZM4.11913 17.0175C4.11913 17.3645 4.42011 17.6228 4.76198 17.6228V17.2895C4.57786 17.2895 4.45246 17.1552 4.45246 17.0175H4.11913ZM4.11913 2.98245V17.0175H4.45246V2.98245H4.11913ZM4.76198 2.3772C4.42011 2.3772 4.11913 2.63553 4.11913 2.98245H4.45246C4.45246 2.84492 4.57786 2.71053 4.76198 2.71053V2.3772ZM15.2382 2.3772H4.76198V2.71053H15.2382V2.3772ZM15.881 2.98245C15.881 2.63553 15.58 2.3772 15.2382 2.3772V2.71053C15.4223 2.71053 15.5477 2.84492 15.5477 2.98245H15.881ZM15.881 5V2.98245H15.5477V5H15.881ZM16.6667 4.83333H15.7144V5.16667H16.6667V4.83333ZM16.5001 2.98245V5H16.8334V2.98245H16.5001ZM15.2382 1.83333C15.9483 1.83333 16.5001 2.36045 16.5001 2.98245H16.8334C16.8334 2.15108 16.106 1.5 15.2382 1.5V1.83333ZM4.76198 1.83333H15.2382V1.5H4.76198V1.83333ZM15.4371 6.91212L18.0887 9.7928L18.3341 9.56705L15.6823 6.68637L15.4371 6.91212ZM15.0931 6.91212C15.1898 6.80707 15.3404 6.80707 15.4371 6.91212L15.6823 6.68637C15.4536 6.43788 15.0766 6.43788 14.8478 6.68637L15.0931 6.91212ZM15.0931 7.32652C14.9891 7.21355 14.9891 7.0251 15.0931 6.91212L14.8478 6.68637C14.6264 6.92693 14.6264 7.3117 14.8478 7.55227L15.0931 7.32652ZM17.0334 9.43447L15.0931 7.32652L14.8478 7.55227L16.7882 9.66022L17.0334 9.43447ZM10.0001 9.71402H16.9107V9.38068H10.0001V9.71402ZM10.1667 10.4527V9.54735H9.83341V10.4527H10.1667ZM16.9107 10.286H10.0001V10.6193H16.9107V10.286ZM15.0931 12.6735L17.0334 10.5655L16.7882 10.3398L14.8478 12.4477L15.0931 12.6735ZM15.0931 13.0879C14.9891 12.9749 14.9891 12.7865 15.0931 12.6735L14.8478 12.4477C14.6264 12.6883 14.6264 13.0731 14.8478 13.3136L15.0931 13.0879ZM15.4371 13.0879C15.3404 13.1929 15.1898 13.1929 15.0931 13.0879L14.8478 13.3136C15.0766 13.5621 15.4536 13.5621 15.6823 13.3136L15.4371 13.0879ZM18.0887 10.2072L15.4371 13.0879L15.6823 13.3136L18.3341 10.433L18.0887 10.2072ZM18.0887 9.7928C18.1927 9.90578 18.1927 10.0942 18.0887 10.2072L18.3341 10.433C18.5554 10.1924 18.5554 9.80762 18.3341 9.56705L18.0887 9.7928Z" fill="#8F8F8F"/>'+"</svg>")+"</a>"+"</div>")+'<button type="button" class="tlk-userbar__popup-edit-profile tlk-userbar__popup-edit-profile_userbar tlk-btn_reset">{{widget_userbar_btn_edit_profile}}</button>'+"</div>","boolean"!=typeof e.isPhoneValid||e.isPhoneValid||(t+=`
            <div class="tlk-userbar__popup-warning">
                <div class="tlk-userbar__popup-warning-wrap">
                    <svg class="tlk-userbar__popup-warning-icon" width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17 8.5C17 13.1944 13.1944 17 8.5 17C3.80558 17 0 13.1944 0 8.5C0 3.80558 3.80558 0 8.5 0C13.1944 0 17 3.80558 17 8.5Z" fill="#EA3323"/>
                        <path d="M8.25488 10.1543L7.89844 6.52148V4.8418H9.38281V6.52148L9.03125 10.1543H8.25488ZM7.95703 12V10.6279H9.3291V12H7.95703Z" fill="white"/>
                    </svg>
                    <div>
                        <div class="tlk-userbar__popup-warning-text">{{widget_userbar_warning_phone}}</div>
                        <button type="button" class="tlk-userbar__popup-edit-profile tlk-userbar__popup-warning-btn tlk-btn_reset">{{widget_userbar_fix}}</button>
                    </div>
                </div>
            </div>`),e.courses&&0<e.courses.length||e.groups&&0<e.groups.length||window.tildaMembers.is_init_store){if(t+='<div class="tlk-userbar__popup-container">',window.tildaMembers.is_init_store&&({ordersManagementShowPurchased:r=!0}=window.tildaMembers&&window.tildaMembers.settingStyles&&window.tildaMembers.settingStyles.welcomepage||{},t+='<div class="tlk-userbar__popup-store js-userbar__popup-store">',(e.courses&&0<e.courses.length||e.groups&&0<e.groups.length)&&(t+='<div class="tlk-userbar__popup-heading">{{widget_userbar_title_store}}</div>'),t=(t+=tma__userbar__getStoreItemHtml({name:"{{widget_userbar_store_main}}",alias:""}))+tma__userbar__getStoreItemHtml({name:"{{widget_userbar_store_orders}}",alias:"orderlist"}),r&&(t+=tma__userbar__getStoreItemHtml({name:"{{widget_userbar_store_purchased}}",alias:"purchased-products"})),t=t+tma__userbar__getStoreItemHtml({name:"{{widget_userbar_store_addresses}}",alias:"addresses",className:"tlk-userbar__popup-store-item-addresses"})+"</div>"),0<e.courses.length){window.tildaMembers.is_init_store||(t+=tma__userbar__getStoreItemHtml({name:"{{widget_userbar_store_main}}",alias:""}));for(var t=t+'<div class="tlk-userbar__popup-courses">'+'<div class="tlk-userbar__popup-heading">{{widget_userbar_title_courses}}</div>',a=0;a<e.courses.length;a++)t+=tma__userbar__getCourseItemHtml(e.courses[a]);t+="</div>"}if(0<e.groups.length){t=t+'<div class="tlk-userbar__popup-groups">'+'<div class="tlk-userbar__popup-heading">{{widget_userbar_title_groups}}</div>';for(a=0;a<e.groups.length;a++)t+=tma__userbar__getGroupsItemHtml(e.groups[a]);t+="</div>"}t+="</div>"}return t}function tma__userbar__getStoreItemHtml(e){var t="";return(t+='<div class="tlk-userbar__popup-store-item'+(e.className?" "+e.className:"")+'">')+'<div class="tlk-userbar__popup-title">'+('<a href="/members/'+e.alias+'" class="tlk-userbar__popup-courses-link">')+('<div class="tlk-userbar__popup-text">'+e.name+"</div>")+"</a>"+"</div>"+"</div>"}function tma__userbar__getCourseItemHtml(e){var t="",t=(t=(t+='<div class="tlk-userbar__popup-courses-item">')+'<div class="tlk-userbar__popup-title">'+('<a href="/members/courses/'+e.alias+'" class="tlk-userbar__popup-courses-link">'))+'<div class="tlk-userbar__popup-text">'+e.name;return e.expired&&(t+=" <span>{{widget_userbar_title_to}}&nbsp;"+tma__getformatDate(e.expired)+"</span>"),e.hasnotifications&&(t+='&nbsp;&nbsp;<span class="tlk-userbar__popup-notification"></span>'),t=(t=t+"</div>"+"</a>")+"</div>"+"</div>"}function tma__userbar__getGroupsItemHtml(e){var t="",r=!(!(e.pages&&0<e.pages.length||e.docs&&0<e.docs.length)||e.homepage&&"0"!==e.homepage||e.index),a=e.expired?"<span>{{widget_userbar_title_to}} "+tma__getformatDate(e.expired)+"</span>":"";if(t=t+('<div class="tlk-userbar__popup-groups-item'+(r?" tlk-accordion":"")+'">')+('<div class="tlk-userbar__popup-title'+(r?" tlk-accordion__link":"")+'">'),t=e.homepage&&e.index?(t+='<a href="/'+e.index+'" class="tlk-userbar__popup-groups-link">')+'<div class="tlk-userbar__popup-text">'+e.name+"&nbsp;&nbsp;"+a+"</div></a>":(t+='<div class="tlk-userbar__popup-groups-not-link">')+'<div class="tlk-userbar__popup-text">'+e.name+"&nbsp;&nbsp;"+a+"</div></div>",r&&(t+='<div class="tlk-userbar__icon"><svg xmlns="http://www.w3.org/2000/svg" height="7" viewBox="0 0 12 8" fill="none" class="tlk-userbar__arrow-down"><path d="M0.999902 7L5.8999 2L10.8999 7" stroke="#000" stroke-width="2" /></svg></div>'),t+="</div>",r){t+='<div class="tlk-userbar__popup-groups-pages tlk-accordion__content">';for(var o=0;o<e.pages.length;o++)var s=e.pages[o],t=(t=(t=(t+='<div class="tlk-userbar__popup-groups-page">')+('<a href="/'+s.link+'" class="tlk-userbar__popup-accordion-link">'))+('<div class="tlk-userbar__popup-text">'+s.title+"</div>"))+"</a>"+"</div>";for(o=0;o<e.docs.length;o++){var _=e.docs[o];t=(t=(t=(t+='<div class="tlk-userbar__popup-groups-page">')+('<a href="/'+_.link+'" class="tlk-userbar__popup-accordion-link">'))+('<div class="tlk-userbar__popup-text">'+_.title+"</div>"))+"</a>"+"</div>"}t+="</div>"}return t+="</div>"}function tma__userbar__getLogoHtml(e){var t="";return e.memberlogo?t+='<img src="'+e.memberlogo+'">':t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 37 41" fill="none"><circle cx="18.5" cy="11.5" r="10.75" stroke="#000" stroke-width="1.5"/><path d="M36 41C36 32.7157 28.165 26 18.5 26C8.83502 26 1 32.7157 1 41" stroke="#000" stroke-width="1.5"/></svg>',t}function tma__userbar__getPreloaderHtml(){var e="";e+='<div class="tlk-userbar__preloader">';for(var t=0;t<3;t++){e+='<div class="tlk-userbar__preloader-wrapper">';for(var r=0;r<3;r++)e+='<div class="tlk-userbar__preloader-text"></div>';e+="</div>"}return e+="</div>"}function tma__userbar__createUserbarStyles(){var e,t,r;window.tildaMembers.settingStyles&&(t="",!(e=window.tildaMembers.settingStyles.controlblock)||Array.isArray(e)&&!e.length||((e.user_vertical_coordinate_px||e.user_horizontal_coordinate_px)&&(t+=".tlk-userbar {"),!e.user_position||-1!==e.user_position.indexOf("top")&&e.user_vertical_coordinate_px?t=t+("top: "+e.user_vertical_coordinate_px)+" !important; bottom: auto !important; ":e.user_vertical_coordinate_px&&(t=t+("bottom: "+e.user_vertical_coordinate_px)+"!important; top: auto !important; "),e.user_position&&-1!==e.user_position.indexOf("left")&&e.user_horizontal_coordinate_px?t=t+("left: "+e.user_horizontal_coordinate_px)+"!important; right: auto !important; ":e.user_horizontal_coordinate_px&&(t=t+("right: "+e.user_horizontal_coordinate_px)+"!important; left: auto !important; "),(e.user_vertical_coordinate_px||e.user_horizontal_coordinate_px)&&(t+="}\n"),(e.user_background||e.user_background_opacity||e.border_color||e.border_width_px)&&(t+=".tlk-userbar__user-image, .tlk-userbar_store .tlk-userbar__user-image {",(e.user_background||e.user_background_opacity)&&(r="0, 0, 0, ",window.tildaMembers.is_init_store&&(r="255, 255, 255, "),t+="background-color: rgba("+(e.user_background?tma__userbar__hexToRgb(e.user_background).join(", ")+", ":r)+tma__userbar__getOpacity(e.user_background_opacity)+");\n"),(e.border_color||e.border_width_px)&&(t+="border: "+(e.border_width_px||1)+" solid "+(e.border_color||"transparent")+";"),t+="}\n"),e.user_size&&(t=(t=t+".tlk-userbar__user-image {width: "+e.user_size+"; ")+"height: "+e.user_size+"; }\n"),e.user_size_mobile&&(t=(t=(t+=" @media screen and (max-width: 1023px) {")+".tlk-userbar__user-image {width: "+e.user_size_mobile+"; ")+"height: "+e.user_size_mobile+"; }\n}\n"),e.user_color&&(t=(t+=".tlk-userbar__user-image svg {")+"fill: "+e.user_color+"; }\n"),e.user_border_color&&(t=(t+=" .tlk-userbar__user-image circle, .tlk-userbar__user-image path, .tlk-userbar_store .tlk-userbar__user-image circle, .tlk-userbar_store .tlk-userbar__user-image path {")+"stroke: "+e.user_border_color+"; }\n"),(e.user_vertical_coordinate_mobile_px||e.user_horizontal_coordinate_mobile_px)&&(t+=" @media screen and (max-width: 1023px) { .tlk-userbar {"),!e.user_position_mobile||-1!==e.user_position_mobile.indexOf("top")&&e.user_vertical_coordinate_mobile_px?t=t+("top: "+e.user_vertical_coordinate_mobile_px)+"!important; bottom: auto !important; ":e.user_vertical_coordinate_mobile_px&&(t=t+("bottom: "+e.user_vertical_coordinate_mobile_px)+"!important; top: auto !important; "),e.user_position_mobile&&-1!==e.user_position_mobile.indexOf("left")&&e.user_horizontal_coordinate_mobile_px?t=t+("left: "+e.user_horizontal_coordinate_mobile_px)+"!important; right: auto !important; ":e.user_horizontal_coordinate_mobile_px&&(t=t+("right: "+e.user_horizontal_coordinate_mobile_px)+"!important; left: auto !important; "),(e.user_vertical_coordinate_mobile_px||e.user_horizontal_coordinate_mobile_px)&&(t+="}\n}\n"),document.head.insertAdjacentHTML("beforeend",'<style id="tlk-userbar-style">'+t+"</style>")))}function tma__userbar__addInputWithUserData(){var e=tma__getProfileObjFromLS(),t=document.querySelectorAll(".js-form-proccess, .t835 .t-form");if(e&&(e.name||e.login))for(var r=0;r<t.length;r++){function a(e,t){o.insertAdjacentHTML("beforeend",'<input type="hidden" name="'+e+'" value="'+t+'">')}var o=t[r],s=o.querySelector('input[name="ma_name"]'),_=o.querySelector('input[name="ma_email"]'),i=o.querySelector('input[name="ma_phone"]');!s&&e.name&&a("ma_name",tma__escapeHTML(e.name)),!_&&e.login&&a("ma_email",tma__escapeHTML(e.login)),!i&&e.phone&&a("ma_phone",tma__escapeHTML(e.phone))}}function tma__userbar__removeInputWithUserData(){var e=document.querySelectorAll(".js-form-proccess, .t835 .t-form"),r=["ma_name","ma_email","ma_phone"];e.forEach(function(t){r.forEach(function(e){e=t.querySelector('input[name="'+e+'"][type="hidden"]');e&&e.remove()})})}function tma__userbar__addTooltipEvent(){if("function"==typeof tma__drawTooltip){for(var e=document.querySelectorAll(".tlk-userbar__popup-courses-item, .tlk-userbar__popup-groups-item, .tlk-userbar__popup-accordion-link"),t=!1,r=0;r<e.length;r++){var a,o,s=e[r];s.clientHeight<64||(a=s.querySelector(".tlk-userbar__popup-text"),(o=s.querySelector("span:not(.tlk-userbar__popup-notification)"))&&(o.remove(),a.parentNode.appendChild(o)),o={element:s,text:a.textContent,position:"top",gap:8,maxWidth:240,timeout:500,zIndex:9e4},t=!0,s.classList.add("tlk-userbar__popup-item-line-clamp"),tma__drawTooltip(o))}t&&document.querySelector(".tlk-userbar__popup-wrap").addEventListener("scroll",function(){var e=document.querySelector(".tlk-tooltip");e&&e.remove()})}}function tma__userbar__useAuthModalHandlers(){var e=tma__userbar__getAllMembersTriggers();if(Object.values(IsIframeDataReady).every(Boolean)&&e.length)for(var t=0;t<e.length;t++){var r=e[t];r.href="#openmembersbar",r.removeEventListener("click",tma__userbar__showUserbarIfAuthorized),r.addEventListener("click",tma__userbar__openAuthModalIfNotAuthorized)}}function tma__userbar__useUserbarHandlers(){var e=tma__userbar__getAllMembersTriggers();if(e.length)for(var t=0;t<e.length;t++){var r=e[t];r.href="#openmembersbar",r.removeEventListener("click",tma__userbar__openAuthModalIfNotAuthorized),r.addEventListener("click",tma__userbar__showUserbarIfAuthorized)}}function tma__userbar__openAuthModalIfNotAuthorized(e){e.preventDefault(),tma__getProfileObjFromLS()||tma__userbar__openAuthModal()}function tma__userbar__handleWidgetsUserbar(){var a;window.tildaMembers.is_init_widgets||(a=tma__userbar__getAllMembersTriggers()).length&&(tma__onFuncLoad("t_triggerEvent",function(){for(var e=0;e<a.length;e++){var t=a[e],r=t.parentNode;r.classList.add("tlk-open-userbar-btn"),"static"===getComputedStyle(r).position&&(r.style.position="relative"),t.removeEventListener("click",tma__userbar__openAuthModalIfNotAuthorized),t.addEventListener("click",tma__userbar__showUserbarIfAuthorized)}}),window.tildaMembers.is_init_widgets=!0)}function tma__userbar__handleWindowResize(){window.tildaMembers.is_resize_userbar_inited||(window.addEventListener("resize",function(t,r){let a;return function(...e){clearTimeout(a),a=setTimeout(()=>t.apply(this,e),r)}}(function(){var e=document.querySelector(".tlk-userbar");e&&tma__userbar__hideWidgetButton(e)},200),{passive:!0}),window.tildaMembers.is_resize_userbar_inited=!0)}function tma__userbar__showUserbarIfAuthorized(e){var t,r=document.querySelector(".tlk-userbar__user-image");-1===this.href.indexOf("#openmembersbar")&&!/^https?:\/\/[^/]+\/members\/?$/.test(this.href)||(e.preventDefault(),t=((e=window.tildaMembers.target_widget)||document).querySelector(".tlk-userbar__popup"),e===this.parentNode&&t?tma__userbar__closeWidgetPanel():(t&&tma__userbar__closeWidgetPanel(),window.tildaMembers.target_widget=this,t_triggerEvent(r,"click")))}function tma__userbar__hideWidgetButton(e){var t,r;e&&(t="tlk-userbar_hide",tma__userbar__hasTriggersToOpenUserbarOnPage()||(r=document.querySelectorAll('[data-menu-widgeticons-hide="yes"]')).length&&tma_userbar_isMenuVisible(r)&&(r=document.querySelector(".t-menuwidgeticons__link_members"))&&(-1!==(r=r.getAttribute("href")||"").indexOf("#openmembersbar")||/^https?:\/\/[^/]+\/members\/?$/.test(r))&&document.querySelector('[data-menu-widgeticon-members="yes"]')?e.classList.add(t):e.classList.remove(t))}function tma_userbar_isMenuVisible(e){var r;return!!e.length&&!!(e=Array.from(e).map(e=>e.closest(".t-rec"))).length&&(r=window.innerWidth,e.some(e=>{var t=e.getAttribute("data-screen-min"),e=e.getAttribute("data-screen-max");return!(t&&r<parseInt(t,10)||e&&r>parseInt(e,10))}))}function tma__userbar__addWidgetsPositions(){var e,t=document.querySelector(".t706__carticon"),r=document.querySelector(".t1002__wishlisticon"),a=document.querySelector(".t985__search-widget-button");(t||r||a)&&(e=document.querySelector(".tlk-userbar"))&&tma__onFuncLoad("t_posWidget__addWidget",function(){t_posWidget__addWidget({widgetIsInit:!0,widgetDataInit:"tuserbar_initted",widget:e,widgetId:"tlk-userbar-pos-style",widgetClass:"tlk-userbar"},!0),t_posWidget__updateStyleWidget()})}function tma__userbar__hexToRgb(e){var e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,a){return t+t+r+r+a+a}),e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),t=e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{};return e?[t.r,t.g,t.b]:[]}function tma__userbar__getOpacity(e){return e&&"0"!==e?+e/100:"0"===e?0:1}function tma__loadDeliverieslist(){function e(){tmst__fetchData("getdeliverieslist").then(e=>{e={hasAddresses:e&&0<e.length,ts:Date.now()};window.sessionStorage.setItem(a,JSON.stringify(e)),tma__createOrUpdateCSSClass("tlk-userbar__popup-store-item-addresses","tlk-userbar__popup-store-item-addresses",{display:e.hasAddresses?"block":"none"})})}var t=document.getElementById("allrecords"),r="",a="hasaddresses__"+(r=t?t.getAttribute("data-tilda-project-id"):r),t=window.sessionStorage.getItem(a);t?({hasAddresses:r,ts:t}=JSON.parse(t),3e4<Date.now()-t?(window.sessionStorage.removeItem(a),e()):tma__createOrUpdateCSSClass("tlk-userbar__popup-store-item-addresses","tlk-userbar__popup-store-item-addresses",{display:r?"block":"none"})):e()}function tma__createOrUpdateCSSClass(e,t,r){var a=document.createElement("style"),o=(a.id=e,`.${t} {`);for(const s in r)o+=`${s}: ${r[s]};`;a.innerHTML=o+="}";t=document.getElementById(e);t?document.head.replaceChild(a,t):document.head.appendChild(a)}function tmst__fetchData(u,d={}){const{queryParams:c={},body:m={},method:p="POST"}=d;return new Promise((r,a)=>{var e=tmst__getToken(),t=(e||a("wrong_user_token"),tmst__getServerName());const o=tmst__getRootZone();var s=tmst__getQueryString(c),t=`https://${t}/api/orders/${u}/`+(s?"?"+s:"");const _=new XMLHttpRequest,i=Date.now();m.token=e,_.onload=()=>{if(_.readyState===_.DONE){var e=Date.now()-i;if((!_||0===_.status&&e<100)&&a("connection_error"),200===_.status)try{var t=JSON.parse(_.responseText);!function(e,t){e=e.redirectto;if(e&&t!==e)return tmst__setRootZone(e),1;return}(t,o)?r(t):r(tmst__fetchData(u,d))}catch(e){a(_.responseText)}else a("server_error")}},_.ontimeout=()=>{a("timeout_error")},_.onerror=()=>{var e=Date.now()-i;(!_||0===_.status&&e<100)&&a("connection_error"),a("network_error")},_.onabort=()=>{a("aborted_error")},_.open(p,t,!0),_.timeout=3e4;var n=new FormData;for(const l in m)n.append(l,m[l]);_.send(n)})}function tmst__getServerName(){return"store.tildaapi."+tmst__getRootZone()}function tmst__getRootZone(){if(window.tmst_rootzone)return window.tmst_rootzone;let e;var t=document.getElementById("allrecords");return(e=t?t.getAttribute("data-tilda-root-zone"):e)||"com"}function tmst__setRootZone(e){window.tmst_rootzone=e}function tmst__getToken(){var t=document.getElementById("allrecords");if(t){t=t.getAttribute("data-tilda-project-id"),t=window.localStorage.getItem("tilda_members_profile"+t);if(t)try{return JSON.parse(t).token}catch(e){console.log("Error parsing JSON:",'"'+t+'"',e)}}return""}function tmst__getQueryString(t){return Object.keys(t).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e])).join("&")}function tma__userbar__getAllMembersTriggers(){var e=document.querySelectorAll('a[href="#openmembersbar"], a[href*="/members/login"],  a[href*="/members/signup"], .t-menuwidgeticons__link_members[href*="/members"], .t-menuwidgeticons__link_members[href*="/members/"], .t706__auth__link[href*="/members/"]');return Array.from(e).filter(e=>!e.href.includes("exit=y")&&!e.href.includes("group"))}
